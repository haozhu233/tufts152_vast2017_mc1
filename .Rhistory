library(tidyverse)
dt = read_csv('Lekagul Sensor Data.csv')
View(dt)
dt = dt %>%
separate(Timestamp, c("date", "time"), remove = F) %>%
mutate(
date = as.Date(date),
time = as.POSIXct(time)
)
dt = dt %>%
separate(Timestamp, c("date", "time"), remove = F)
dt = dt %>%
group_by(`car-id`) %>%
mutate(duration = Timestamp - lag(Timestamp))
dt = dt %>%
group_by(`car-id`) %>%
mutate(path = paste(`gate-name`, lag(`gate-name`), sep='-'))
dt %>%
filter(!is.na(duration)) %>%
ggplot(aes(x = duration)) +
geom_histogram() +
facet_wrap(~path)
ggsave('duration-path.png', width = 20, height = 20)
dt %>%
filter(!is.na(duration)) %>%
ggplot(aes(x = duration)) +
geom_histogram() +
facet_wrap(~`car-type`)
dt %>%
filter(!is.na(duration)) %>%
ggplot(aes(x = duration)) +
geom_histogram() +
facet_wrap(~`car-type`, scales = 'free_x')
dt %>%
filter(duration > 1E6) %>%
View()
dt %>%
filter(duration > 1E5) %>%
View()
dt %>%
filter(duration > 1E5) %>%
mutate(duration_days = duration / 86400) %>%
select(duration_days, `car-id`, `path`) %>%
View()
dt %>%
filter(`car-id` == '20154519024544-322') %>%
View()
dt %>%
dt %>%
group_by(`car-type`) %>%
su
dt$time[1]
dt = read_csv('Lekagul Sensor Data.csv')
dt = dt %>%
separate(Timestamp, c("date", "time"), remove = F, sep = " ")
dt$time[1]
as.POSIXct(dt$time[1])
library(lubridate)
lubridate::as_datetime(dt$time[1])
a = lubridate::as_datetime(dt$Timestamp)
a
a[1]
lubridate::hms(dt$time[1])
dt %>%
mutate(time = lubridate::hms(time)) %>%
group_by(`car-type`) %>%
summarise(total_time = sum(time))
dt %>%
mutate(time = lubridate::hms(time)) %>%
ggplot(aes(x = time)) +
geom_histogram()
dt$time[1]
dt$time[100]
dt %>%
separate(time, c("h", "m", "s")) %>%
ggplot(aes(x = h)) +
geom_histogram()
dt %>%
separate(time, c("h", "m", "s")) %>%
mutate(h = as.numeric(h), m = as.numeric(h), s = as.numeric(s)) %>%
ggplot(aes(x = h)) +
geom_histogram()
